{% load wagtailimages_tags %}

<div class="border border-gray-200 rounded-xl p-5 bg-white shadow hover:shadow-md transition">
  <h5 class="text-xl font-semibold text-gray-800 mb-1">
    {{ technique.nom }}
    {% if technique.nom_pinyin %}
      <span class="text-sm italic text-gray-600">({{ technique.nom_pinyin }})</span>
    {% endif %}
  </h5>

  {% if technique.traduction %}
    <p class="text-sm text-gray-500 mb-2">« {{ technique.traduction }} »</p>
  {% endif %}

  {% if technique.description %}
    <div class="mb-3 text-sm text-gray-700">
      {{ technique.description|linebreaks }}
    </div>
  {% endif %}

  {% if technique.image %}
    <div class="mb-3">
      {% image technique.image fill-600x400 class="rounded-xl shadow-md" %}
    </div>
  {% endif %}

  {% if technique.video %}
    <p class="mb-2">
      <a href="{{ technique.video.url }}" target="_blank"
         class="inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition">
        Télécharger la vidéo
      </a>
    </p>
  {% endif %}

  {% if technique.video_embed %}
    <div class="mb-3">
      <iframe
        src="{{ technique.video_embed }}"
        width="100%" height="315"
        class="rounded-xl border border-gray-200"
        frameborder="0" allowfullscreen>
      </iframe>
    </div>
  {% endif %}

  {% if technique.lien %}
    <p>
      <a href="{{ technique.lien }}" target="_blank"
         class="mt-2 bg-rouge-charte text-white rounded-lg px-4 py-2 hover:bg-rouge-cramoisi focus:ring-2 focus:ring-dore transition">
        Plus d’infos
      </a>
    </p>
  {% endif %}
</div>
